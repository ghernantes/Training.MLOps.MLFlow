# https://hub.docker.com/r/continuumio/miniconda3
FROM continuumio/miniconda3:latest

# Good practice: upgrade distro packages (with last security patches).
#
RUN apt-get update && apt-get -y upgrade \
    && apt-get install -y --no-install-recommends tree && rm -rf /var/lib/apt/lists/* \
    && conda update -n base -c defaults conda \
    && conda --version \
    && conda info
# Note: RUN shell form:   RUN <command param1 param2>         --> $ /bin/sh -c "command param1 param2"
#       RUN command form: RUN ["command", "param1", "param2"] --> $ exec -c command param1 param2

# Good practice: don't run things in containers as root.               Note: ENV VAR value --> $ export VAR=value
RUN groupadd mlflow && useradd --create-home -g mlflow mlflowuser \
    && grep ^mlflow /etc/group && grep ^mlflow /etc/passwd
ENV PATH /home/mlflowuser/.local/bin:${PATH}

# Good practice: install the app under the appuser home folder:
WORKDIR /home/mlflowuser

# Copy the code to run when container is started:
COPY ./entrypoint-dev.sh .

RUN chown mlflowuser ./entrypoint-dev.sh \
    && chmod u+x ./entrypoint-dev.sh \
    && ls -la
    # $ bin/bash -c "ls -la && chown mlflowuser ./entrypoint-dev.sh && chmod u+x ./entrypoint-dev.sh && ls -la"
    # $ conda run --no-capture-output -n mlflow_env /bin/bash -c "ls -la && chown mlflowuser ./entrypoint-dev.sh && chmod u+x ./entrypoint-dev.sh && ls -la"
    # RUN [ "chmod", "a+x", " ./entrypoint-dev.sh" ]

USER mlflowuser
# Note: USER mlflowuser --> $ su mlflowuser
# From now on, this process is owned by mlflowuser, and:
# - new software will be installed in: /home/mlflowuser/.conda/envs/mlflow_env/bin$  (e.g. python3 and mlflow executables):
# (mlflow_env) mlflowuser@6997ec97809e:/opt/conda$ which mlflow
# /home/mlflowuser/.conda/envs/mlflow_env/bin/mlflow
# (mlflow_env) mlflowuser@6997ec97809e:/opt/conda$ which python
# /home/mlflowuser/.conda/envs/mlflow_env/bin/python
# - conda packages will be installed in: /home/mlflowuser/.conda/pkgs (e.g. anyio, click, flask, ... mlflow)
# mlflow services are executed as mlflowuser and not as root

# Create the environment:
COPY ./conda.yml .
RUN conda env create -f conda.yml \
    && ls -la /home/mlflowuser/.conda/envs/mlflow_env

# Instead of using 'conda activate', there’s another way to run a command inside an environment:
# 'conda run -n myenv yourcommand' --> will run yourcommand inside the environment.
# You’ll also want to pass the '--no-capture-output' flag to conda run so it streams stdout and stderr.

# Make RUN, CMD and ENTRYPOINT shell form commands use the new conda environment:
SHELL ["conda", "run", "--no-capture-output", "-n", "mlflow_env", "/bin/bash", "-c"]
# Note:
# The SHELL instruction allows the default shell used for the shell form of commands to be overridden.
# The default shell on Linux is ["/bin/sh", "-c"], and on Windows is ["cmd", "/S", "/C"]
# The SHELL instruction can appear multiple times. Each SHELL instruction overrides all previous
# SHELL instructions, and affects all subsequent instructions.

# Demonstrate the environment is activated at every RUN (unfortunatelly not for CMD and ENTRYPOINT to):
RUN echo "Make sure mlflow_env is active for all RUNs and mlflow is installed:" \
    && conda info --envs \
    && mlflow --version
    # --> $ conda run --no-capture-output -n mlflow_env /bin/bash -c "echo 'Make sure mlflow is installed:' && conda info --env && mlflow --version"

# Following ENTRYPOINT won't work because the conda env 'mlflow_env' is not activated before calling '/bin/bash ./entrypoint-dev.sh':
# ENTRYPOINT [ "./entrypoint-dev.sh" ]
# --> $ /bin/bash ./entrypoint-dev.sh

# We need to 'conda run' activating the env 'mlflow_env' before calling '/bin/bash ./entrypoint-dev.sh':
ENTRYPOINT ["conda", "run", "--no-capture-output", "-n", "mlflow_env", "/bin/bash", "./entrypoint-dev.sh"]
# --> $ conda run --no-capture-output -n mlflow_env /bin/bash ./entrypoint-dev.sh

#ENTRYPOINT ["conda", "run", "--no-capture-output", "-n", "mlflow_env", "/bin/bash", "mlflow", "server", "--backend-store-uri", "mysql+pymysql://${MYSQL_USER}:${MYSQL_PASSWORD}@db:3306/${MYSQL_DATABASE}", "--default-artifact-root", "${DEFAULT_ARTIFACT_ROOT}", "--artifacts-destination", "${DEFAULT_ARTIFACTS_DESTINATION}", "-h", "0.0.0.0"]


# ======================================================================================================================================
# Docker PoCs: Aternative approach for that Dockerfile:
# ======================================================================================================================================

# see: https://pythonspeed.com/articles/activate-conda-dockerfile/

# One downside to the previous solution is that 'conda run' is described as a “experimental” command,
# so it might cause in theory cause problems.

# Another approach is to take advantage of the fact that the continuumio/miniconda3 image we’re using
# has bash configured to use Conda. We can therefore setup the bash configuration to activate our
# environment, and for the entry point we can run a shell script that does the activation.

# There’s one tricky point here: typically I would recommend shell scripts use set -euo pipefail at
# the beginning, to enable the so-called “bash strict mode”. Basically this means that if you use
# an undefined variable or a program fails, the script will stop, which is what you want. However,
# some Conda activation scripts break with this mode is enabled! So what we have to do is disable
# strict while activating the script.

# Here’s the 'entrypoint_alternative.sh' file: ===================================================

# #!/bin/bash --login
# # The --login ensures the bash configuration is loaded, enabling Conda.

# # Enable strict mode.
# set -euo pipefail
# # ... Run whatever commands ...

# # Temporarily disable strict mode and activate conda:
# set +euo pipefail
# conda activate mlflow_env

# # Re-enable strict mode:
# set -euo pipefail

# # exec the final command:
# exec mlflow server --backend-store-uri mysql+pymysql://${MYSQL_USER}:${MYSQL_PASSWORD}@db:3306/${MYSQL_DATABASE} \
#                    --default-artifact-root ${DEFAULT_ARTIFACT_ROOT} \
#                    --artifacts-destination ${DEFAULT_ARTIFACTS_DESTINATION}
#                    -h 0.0.0.0

# And the Dockerfile: ============================================================================

# FROM continuumio/miniconda3:latest

# .... (all is the same)

# Make RUN commands use the new conda environment:
# RUN echo "conda activate mlflow_env" >> ~/.bashrc
# SHELL ["/bin/bash", "--login", "-c"]                  # here login is required to get the ~/.bashrc file loaded

# Configure the bash shell properly to use 'conda activate':
# RUN conda init bash
# IMPORTANT: You may need to close and restart your shell after running 'conda init'.
# RUN source ~/anaconda3/etc/profile.d/conda.sh

# Activate the environment, and make sure it's activated:
# RUN conda activate mlflow_env

# The code to run when container is started:
# COPY ./mlflow/entrypoint-dev.sh ./
# ENTRYPOINT [ "./entrypoint-dev.sh" ]



# ======================================================================================================================================
# VERBOSE Image build:
# ======================================================================================================================================

# Build the image with:

# $ docker build --progress plain --no-cache -f Dockerfile-dev -t mlflow_tracker-dev .


# Logged info:

# #1 [internal] load build definition from Dockerfile-dev
# #1 sha256:1003b074cedb36f52f8730e09ffe229bcc98f4e68d7289d341c84ed2854c01b5
# #1 transferring dockerfile: 41.59kB 0.0s done
# #1 DONE 0.1s

# #2 [internal] load .dockerignore
# #2 sha256:446222bc590a5594da8d54721c446595337f1513fda460f3a18dd1f220d2c20d
# #2 transferring context: 35B done
# #2 DONE 0.1s

# #3 [internal] load metadata for docker.io/continuumio/miniconda3:latest
# #3 sha256:70c01be2623751a8f6df5d5b392c0445964bc863c94f2ca91c3dab835106ad61
# #3 DONE 2.0s

# #13 [1/9] FROM docker.io/continuumio/miniconda3:latest@sha256:10b38c9a8a51692838ce4517e8c74515499b68d58c8a2000d8a9df7f0f08fc5e
# #13 sha256:ccd4c77176649410f666e8c9fea0b32651e5bc2bcdb6a66740827c55b8c662cd
# #13 CACHED

# #7 [internal] load build context
# #7 sha256:3681403f2cb74906d5f04fdaf046ce6f4fca2852235fdb18bf49498796cf320c
# #7 transferring context: 10.43kB done
# #7 DONE 0.0s

# #4 [2/9] RUN apt-get update && apt-get -y upgrade     && apt-get install -y --no-install-recommends tree && rm -rf /var/lib/apt/lists/*     && conda update -n base -c defaults conda     && conda --version     && conda info
# #4 sha256:f9d1e95000c01d58d9fae9ac06c8bba81f1dadbd771373e99ce6c2a8a8018192
# #4 0.852 Get:1 http://deb.debian.org/debian bullseye InRelease [116 kB]
# #4 0.876 Get:2 http://deb.debian.org/debian-security bullseye-security InRelease [48.4 kB]
# #4 0.890 Get:3 http://deb.debian.org/debian bullseye-updates InRelease [44.1 kB]
# #4 0.989 Get:4 http://deb.debian.org/debian bullseye/main amd64 Packages [8183 kB]
# #4 1.772 Get:5 http://deb.debian.org/debian-security bullseye-security/main amd64 Packages [233 kB]
# #4 1.798 Get:6 http://deb.debian.org/debian bullseye-updates/main amd64 Packages [14.6 kB]
# #4 2.611 Fetched 8639 kB in 2s (4768 kB/s)
# #4 2.611 Reading package lists...
# #4 3.046 Reading package lists...
# #4 3.418 Building dependency tree...
# #4 3.505 Reading state information...
# #4 3.521 Calculating upgrade...
# #4 3.622 The following packages will be upgraded:
# #4 3.622   git git-man libaprutil1 libcurl3-gnutls libgnutls30 libssl1.1 openssl
# #4 3.649 7 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
# #4 3.649 Need to get 11.5 MB of archives.
# #4 3.649 After this operation, 33.8 kB of additional disk space will be used.
# #4 3.649 Get:1 http://deb.debian.org/debian-security bullseye-security/main amd64 libgnutls30 amd64 3.7.1-5+deb11u3 [1340 kB]
# #4 3.799 Get:2 http://deb.debian.org/debian-security bullseye-security/main amd64 libssl1.1 amd64 1.1.1n-0+deb11u4 [1560 kB]
# #4 3.935 Get:3 http://deb.debian.org/debian-security bullseye-security/main amd64 git-man all 1:2.30.2-1+deb11u2 [1828 kB]
# #4 4.095 Get:4 http://deb.debian.org/debian-security bullseye-security/main amd64 libcurl3-gnutls amd64 7.74.0-1.3+deb11u7 [343 kB]
# #4 4.130 Get:5 http://deb.debian.org/debian-security bullseye-security/main amd64 git amd64 1:2.30.2-1+deb11u2 [5518 kB]
# #4 4.642 Get:6 http://deb.debian.org/debian-security bullseye-security/main amd64 libaprutil1 amd64 1.6.1-5+deb11u1 [92.3 kB]
# #4 4.648 Get:7 http://deb.debian.org/debian-security bullseye-security/main amd64 openssl amd64 1.1.1n-0+deb11u4 [853 kB]
# #4 4.884 debconf: delaying package configuration, since apt-utils is not installed
# #4 4.914 Fetched 11.5 MB in 1s (10.5 MB/s)
# (Reading database ... 12440 files and directories currently installed.)
# #4 4.988 Preparing to unpack .../libgnutls30_3.7.1-5+deb11u3_amd64.deb ...
# #4 5.024 Unpacking libgnutls30:amd64 (3.7.1-5+deb11u3) over (3.7.1-5+deb11u2) ...
# #4 5.230 Setting up libgnutls30:amd64 (3.7.1-5+deb11u3) ...
# (Reading database ... 12440 files and directories currently installed.)
# #4 5.333 Preparing to unpack .../libssl1.1_1.1.1n-0+deb11u4_amd64.deb ...
# #4 5.359 Unpacking libssl1.1:amd64 (1.1.1n-0+deb11u4) over (1.1.1n-0+deb11u3) ...
# #4 5.624 Setting up libssl1.1:amd64 (1.1.1n-0+deb11u4) ...
# #4 5.742 debconf: unable to initialize frontend: Dialog
# #4 5.742 debconf: (TERM is not set, so the dialog frontend is not usable.)
# #4 5.742 debconf: falling back to frontend: Readline
# (Reading database ... 12440 files and directories currently installed.)
# #4 5.829 Preparing to unpack .../git-man_1%3a2.30.2-1+deb11u2_all.deb ...
# #4 5.856 Unpacking git-man (1:2.30.2-1+deb11u2) over (1:2.30.2-1) ...
# #4 6.016 Preparing to unpack .../libcurl3-gnutls_7.74.0-1.3+deb11u7_amd64.deb ...
# #4 6.043 Unpacking libcurl3-gnutls:amd64 (7.74.0-1.3+deb11u7) over (7.74.0-1.3+deb11u3) ...
# #4 6.158 Preparing to unpack .../git_1%3a2.30.2-1+deb11u2_amd64.deb ...
# #4 6.212 Unpacking git (1:2.30.2-1+deb11u2) over (1:2.30.2-1) ...
# #4 7.659 Preparing to unpack .../libaprutil1_1.6.1-5+deb11u1_amd64.deb ...
# #4 7.685 Unpacking libaprutil1:amd64 (1.6.1-5+deb11u1) over (1.6.1-5) ...
# #4 7.788 Preparing to unpack .../openssl_1.1.1n-0+deb11u4_amd64.deb ...
# #4 7.816 Unpacking openssl (1.1.1n-0+deb11u4) over (1.1.1n-0+deb11u3) ...
# #4 7.963 Setting up libcurl3-gnutls:amd64 (7.74.0-1.3+deb11u7) ...
# #4 7.991 Setting up git-man (1:2.30.2-1+deb11u2) ...
# #4 8.014 Setting up openssl (1.1.1n-0+deb11u4) ...
# #4 8.049 Setting up libaprutil1:amd64 (1.6.1-5+deb11u1) ...
# #4 8.074 Setting up git (1:2.30.2-1+deb11u2) ...
# #4 8.125 Processing triggers for libc-bin (2.31-13+deb11u5) ...
# #4 8.253 Reading package lists...
# #4 8.628 Building dependency tree...
# #4 8.714 Reading state information...
# #4 8.823 The following NEW packages will be installed:
# #4 8.823   tree
# #4 8.863 0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
# #4 8.863 Need to get 49.6 kB of archives.
# #4 8.863 After this operation, 118 kB of additional disk space will be used.
# #4 8.863 Get:1 http://deb.debian.org/debian bullseye/main amd64 tree amd64 1.8.0-1+b1 [49.6 kB]
# #4 8.936 debconf: delaying package configuration, since apt-utils is not installed
# #4 8.956 Fetched 49.6 kB in 0s (1177 kB/s)
# #4 8.979 Selecting previously unselected package tree.
# (Reading database ... 12441 files and directories currently installed.)
# #4 8.985 Preparing to unpack .../tree_1.8.0-1+b1_amd64.deb ...
# #4 8.994 Unpacking tree (1.8.0-1+b1) ...
# #4 9.060 Setting up tree (1.8.0-1+b1) ...
# #4 10.17 Collecting package metadata (current_repodata.json): ...working... done
# #4 12.94 Solving environment: ...working... done
# #4 13.81
# #4 13.81 ## Package Plan ##
# #4 13.81
# #4 13.81   environment location: /opt/conda
# #4 13.81
# #4 13.81   added / updated specs:
# #4 13.81     - conda
# #4 13.81
# #4 13.81
# #4 13.81 The following packages will be downloaded:
# #4 13.81
# #4 13.81     package                    |            build
# #4 13.81     ---------------------------|-----------------
# #4 13.81     ca-certificates-2023.01.10 |       h06a4308_0         120 KB
# #4 13.81     conda-23.1.0               |  py310h06a4308_0         953 KB
# #4 13.81     conda-package-handling-2.0.2|  py310h06a4308_0         267 KB
# #4 13.81     conda-package-streaming-0.7.0|  py310h06a4308_0          27 KB
# #4 13.81     cryptography-39.0.1        |  py310h9ce1e76_0         1.4 MB
# #4 13.81     ncurses-6.4                |       h6a678d5_0         914 KB
# #4 13.81     openssl-1.1.1t             |       h7f8727e_0         3.7 MB
# #4 13.81     pyopenssl-23.0.0           |  py310h06a4308_0          97 KB
# #4 13.81     sqlite-3.40.1              |       h5082296_0         1.2 MB
# #4 13.81     urllib3-1.26.14            |  py310h06a4308_0         197 KB
# #4 13.81     xz-5.2.10                  |       h5eee18b_1         429 KB
# #4 13.81     zstandard-0.19.0           |  py310h5eee18b_0         474 KB
# #4 13.81     ------------------------------------------------------------
# #4 13.81                                            Total:         9.7 MB
# #4 13.81
# #4 13.81 The following NEW packages will be INSTALLED:
# #4 13.81
# #4 13.81   conda-package-str~ pkgs/main/linux-64::conda-package-streaming-0.7.0-py310h06a4308_0
# #4 13.81   zstandard          pkgs/main/linux-64::zstandard-0.19.0-py310h5eee18b_0
# #4 13.81
# #4 13.81 The following packages will be UPDATED:
# #4 13.81
# #4 13.81   ca-certificates                     2022.10.11-h06a4308_0 --> 2023.01.10-h06a4308_0
# #4 13.81   conda                             22.11.1-py310h06a4308_4 --> 23.1.0-py310h06a4308_0
# #4 13.81   conda-package-han~                  1.9.0-py310h5eee18b_1 --> 2.0.2-py310h06a4308_0
# #4 13.81   cryptography                       38.0.1-py310h9ce1e76_0 --> 39.0.1-py310h9ce1e76_0
# #4 13.81   ncurses                                    6.3-h5eee18b_3 --> 6.4-h6a678d5_0
# #4 13.81   openssl                                 1.1.1s-h7f8727e_0 --> 1.1.1t-h7f8727e_0
# #4 13.81   pyopenssl          pkgs/main/noarch::pyopenssl-22.0.0-py~ --> pkgs/main/linux-64::pyopenssl-23.0.0-py310h06a4308_0
# #4 13.81   sqlite                                  3.40.0-h5082296_0 --> 3.40.1-h5082296_0
# #4 13.81   urllib3                           1.26.13-py310h06a4308_0 --> 1.26.14-py310h06a4308_0
# #4 13.81   xz                                       5.2.8-h5eee18b_0 --> 5.2.10-h5eee18b_1
# #4 13.81
# #4 13.81
# #4 13.81 Proceed ([y]/n)?
# #4 13.81
# #4 13.81 Downloading and Extracting Packages

# #4 15.22 Preparing transaction: ...working... done
# #4 15.37 Verifying transaction: ...working... done
# #4 15.85 Executing transaction: ...working... done
# #4 24.60 conda 23.1.0
# #4 25.30
# #4 25.30      active environment : None
# #4 25.30        user config file : /root/.condarc
# #4 25.30  populated config files :
# #4 25.30           conda version : 23.1.0
# #4 25.30     conda-build version : not installed
# #4 25.30          python version : 3.10.8.final.0
# #4 25.30        virtual packages : __archspec=1=x86_64
# #4 25.30                           __glibc=2.31=0
# #4 25.30                           __linux=5.15.90.1=0
# #4 25.30                           __unix=0=0
# #4 25.30        base environment : /opt/conda  (writable)
# #4 25.30       conda av data dir : /opt/conda/etc/conda
# #4 25.30   conda av metadata url : None
# #4 25.30            channel URLs : https://repo.anaconda.com/pkgs/main/linux-64
# #4 25.30                           https://repo.anaconda.com/pkgs/main/noarch
# #4 25.30                           https://repo.anaconda.com/pkgs/r/linux-64
# #4 25.30                           https://repo.anaconda.com/pkgs/r/noarch
# #4 25.30           package cache : /opt/conda/pkgs
# #4 25.30                           /root/.conda/pkgs
# #4 25.30        envs directories : /opt/conda/envs
# #4 25.30                           /root/.conda/envs
# #4 25.30                platform : linux-64
# #4 25.30              user-agent : conda/23.1.0 requests/2.28.1 CPython/3.10.8 Linux/5.15.90.1-microsoft-standard-WSL2 debian/11 glibc/2.31
# #4 25.30                 UID:GID : 0:0
# #4 25.30              netrc file : None
# #4 25.30            offline mode : False
# #4 25.30
# #4 DONE 25.5s

# #5 [3/9] RUN groupadd mlflow && useradd --create-home -g mlflow mlflowuser     && grep ^mlflow /etc/group && grep ^mlflow /etc/passwd
# #5 sha256:0dab29a86b5d4d3e9958b23cdfbb5847665bd5e76da3274379c6ad073664ae3e
# #5 0.594 mlflow:x:1000:
# #5 0.594 mlflowuser:x:1000:1000::/home/mlflowuser:/bin/sh
# #5 DONE 0.6s

# #6 [4/9] WORKDIR /home/mlflowuser
# #6 sha256:ac659b1e9610cd1071f6d1339cdf02c411a9ac340d9314c7a4a047fb574ebb3c
# #6 DONE 0.0s

# #8 [5/9] COPY ./entrypoint-dev.sh .
# #8 sha256:f76fdd7a1915155cb39506370460c35a8be8c79286b381d848b820184c0534fa
# #8 DONE 0.0s

# #9 [6/9] RUN chown mlflowuser ./entrypoint-dev.sh     && chmod u+x ./entrypoint-dev.sh     && ls -la
# #9 sha256:1c600aa22c319a955c3258d6f2a85d3be1348ccf8da85ebdd193c71e800326f6
# #9 0.435 total 40
# #9 0.435 drwxr-xr-x 1 mlflowuser mlflow  4096 Mar  6 09:42 .
# #9 0.435 drwxr-xr-x 1 root       root    4096 Mar  6 09:42 ..
# #9 0.435 -rw-r--r-- 1 mlflowuser mlflow   220 Mar 27  2022 .bash_logout
# #9 0.435 -rw-r--r-- 1 mlflowuser mlflow  3526 Mar 27  2022 .bashrc
# #9 0.435 -rw-r--r-- 1 mlflowuser mlflow   807 Mar 27  2022 .profile
# #9 0.435 -rwxr-xr-x 1 mlflowuser root   10354 Mar  6 09:18 entrypoint-dev.sh
# #9 DONE 0.4s

# #10 [7/9] COPY ./conda.yml .
# #10 sha256:d5a9eb33369f82c98ab58ede767a1f8f0c82b18fd4189373fe2efb3df9eeecb6
# #10 DONE 0.0s

# #11 [8/9] RUN conda env create -f conda.yml     && ls -la /home/mlflowuser/.conda/envs/mlflow_env
# #11 sha256:1efa42119503201900ee8f8e155dbb77e0c34befd3eb96a90ced007497704b0b
# #11 1.148 Collecting package metadata (repodata.json): ...working... done
# #11 75.46 Solving environment: ...working... done
# #11 79.39
# #11 79.39 Downloading and Extracting Packages

# #11 84.45 Preparing transaction: ...working... done
# #11 84.66 Verifying transaction: ...working... done
# #11 85.62 Executing transaction: ...working... done
# #11 89.93 Installing pip dependencies: ...working... Ran pip subprocess with arguments:
# #11 145.5 ['/home/mlflowuser/.conda/envs/mlflow_env/bin/python', '-m', 'pip', 'install', '-U', '-r', '/home/mlflowuser/condaenv.p28wjm7a.requirements.txt', '--exists-action=b']
# #11 145.5 Pip subprocess output:
# #11 145.5 Collecting mlflow<3,>=2.1
# #11 145.5   Downloading mlflow-2.2.1-py3-none-any.whl (17.6 MB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 17.6/17.6 MB 9.7 MB/s eta 0:00:00
# #11 145.5 Collecting boto3
# #11 145.5   Downloading boto3-1.26.84-py3-none-any.whl (134 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 134.7/134.7 kB 6.9 MB/s eta 0:00:00
# #11 145.5 Collecting pymysql
# #11 145.5   Downloading PyMySQL-1.0.2-py3-none-any.whl (43 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 43.8/43.8 kB 4.2 MB/s eta 0:00:00
# #11 145.5 Collecting pyyaml<7,>=5.1
# #11 145.5   Downloading PyYAML-6.0-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (682 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 682.2/682.2 kB 9.7 MB/s eta 0:00:00
# #11 145.5 Collecting pandas<3
# #11 145.5   Downloading pandas-1.5.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (12.1 MB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 12.1/12.1 MB 9.8 MB/s eta 0:00:00
# #11 145.5 Collecting importlib-metadata!=4.7.0,<7,>=3.7.0
# #11 145.5   Downloading importlib_metadata-6.0.0-py3-none-any.whl (21 kB)
# #11 145.5 Collecting gitpython<4,>=2.1.0
# #11 145.5   Downloading GitPython-3.1.31-py3-none-any.whl (184 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 184.3/184.3 kB 8.6 MB/s eta 0:00:00
# #11 145.5 Collecting cloudpickle<3
# #11 145.5   Downloading cloudpickle-2.2.1-py3-none-any.whl (25 kB)
# #11 145.5 Collecting markdown<4,>=3.3
# #11 145.5   Downloading Markdown-3.4.1-py3-none-any.whl (93 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 93.3/93.3 kB 6.3 MB/s eta 0:00:00
# #11 145.5 Collecting protobuf<5,>=3.12.0
# #11 145.5   Downloading protobuf-4.22.0-cp37-abi3-manylinux2014_x86_64.whl (302 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 302.4/302.4 kB 8.5 MB/s eta 0:00:00
# #11 145.5 Collecting Jinja2<4,>=2.11
# #11 145.5   Downloading Jinja2-3.1.2-py3-none-any.whl (133 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 133.1/133.1 kB 7.6 MB/s eta 0:00:00
# #11 145.5 Collecting numpy<2
# #11 145.5   Downloading numpy-1.24.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (17.3 MB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 17.3/17.3 MB 10.5 MB/s eta 0:00:00
# #11 145.5 Collecting Flask<3
# #11 145.5   Downloading Flask-2.2.3-py3-none-any.whl (101 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 101.8/101.8 kB 8.7 MB/s eta 0:00:00
# #11 145.5 Collecting pytz<2023
# #11 145.5   Downloading pytz-2022.7.1-py2.py3-none-any.whl (499 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 499.4/499.4 kB 7.5 MB/s eta 0:00:00
# #11 145.5 Collecting sqlparse<1,>=0.4.0
# #11 145.5   Downloading sqlparse-0.4.3-py3-none-any.whl (42 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.8/42.8 kB 4.3 MB/s eta 0:00:00
# #11 145.5 Collecting scipy<2
# #11 145.5   Downloading scipy-1.10.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (34.4 MB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 34.4/34.4 MB 9.7 MB/s eta 0:00:00
# #11 145.5 Collecting matplotlib<4
# #11 145.5   Downloading matplotlib-3.7.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (11.6 MB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 11.6/11.6 MB 10.7 MB/s eta 0:00:00
# #11 145.5 Collecting requests<3,>=2.17.3
# #11 145.5   Downloading requests-2.28.2-py3-none-any.whl (62 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.8/62.8 kB 4.1 MB/s eta 0:00:00
# #11 145.5 Collecting querystring-parser<2
# #11 145.5   Downloading querystring_parser-1.2.4-py2.py3-none-any.whl (7.9 kB)
# #11 145.5 Collecting shap<1,>=0.40
# #11 145.5   Downloading shap-0.41.0-cp310-cp310-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (572 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 572.6/572.6 kB 9.1 MB/s eta 0:00:00
# #11 145.5 Collecting alembic<2
# #11 145.5   Downloading alembic-1.10.0-py3-none-any.whl (211 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 211.9/211.9 kB 7.6 MB/s eta 0:00:00
# #11 145.5 Collecting gunicorn<21
# #11 145.5   Downloading gunicorn-20.1.0-py3-none-any.whl (79 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.5/79.5 kB 9.3 MB/s eta 0:00:00
# #11 145.5 Collecting packaging<24
# #11 145.5   Downloading packaging-23.0-py3-none-any.whl (42 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.7/42.7 kB 5.1 MB/s eta 0:00:00
# #11 145.5 Collecting click<9,>=7.0
# #11 145.5   Downloading click-8.1.3-py3-none-any.whl (96 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 96.6/96.6 kB 6.2 MB/s eta 0:00:00
# #11 145.5 Collecting entrypoints<1
# #11 145.5   Downloading entrypoints-0.4-py3-none-any.whl (5.3 kB)
# #11 145.5 Collecting scikit-learn<2
# #11 145.5   Downloading scikit_learn-1.2.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (9.6 MB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 9.6/9.6 MB 9.0 MB/s eta 0:00:00
# #11 145.5 Collecting docker<7,>=4.0.0
# #11 145.5   Downloading docker-6.0.1-py3-none-any.whl (147 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 147.5/147.5 kB 7.6 MB/s eta 0:00:00
# #11 145.5 Collecting sqlalchemy<3,>=1.4.0
# #11 145.5   Downloading SQLAlchemy-2.0.5.post1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.7 MB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.7/2.7 MB 9.5 MB/s eta 0:00:00
# #11 145.5 Collecting pyarrow<12,>=4.0.0
# #11 145.5   Downloading pyarrow-11.0.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (34.9 MB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 34.9/34.9 MB 7.6 MB/s eta 0:00:00
# #11 145.5 Collecting databricks-cli<1,>=0.8.7
# #11 145.5   Downloading databricks-cli-0.17.4.tar.gz (82 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 82.3/82.3 kB 4.9 MB/s eta 0:00:00
# #11 145.5   Preparing metadata (setup.py): started
# #11 145.5   Preparing metadata (setup.py): finished with status 'done'
# #11 145.5 Collecting botocore<1.30.0,>=1.29.84
# #11 145.5   Downloading botocore-1.29.84-py3-none-any.whl (10.5 MB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 10.5/10.5 MB 9.5 MB/s eta 0:00:00
# #11 145.5 Collecting s3transfer<0.7.0,>=0.6.0
# #11 145.5   Downloading s3transfer-0.6.0-py3-none-any.whl (79 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.6/79.6 kB 5.0 MB/s eta 0:00:00
# #11 145.5 Collecting jmespath<2.0.0,>=0.7.1
# #11 145.5   Downloading jmespath-1.0.1-py3-none-any.whl (20 kB)
# #11 145.5 Collecting typing-extensions>=4
# #11 145.5   Downloading typing_extensions-4.5.0-py3-none-any.whl (27 kB)
# #11 145.5 Collecting Mako
# #11 145.5   Downloading Mako-1.2.4-py3-none-any.whl (78 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 78.7/78.7 kB 5.1 MB/s eta 0:00:00
# #11 145.5 Collecting python-dateutil<3.0.0,>=2.1
# #11 145.5   Downloading python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 247.7/247.7 kB 7.2 MB/s eta 0:00:00
# #11 145.5 Collecting urllib3<1.27,>=1.25.4
# #11 145.5   Downloading urllib3-1.26.14-py2.py3-none-any.whl (140 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 140.6/140.6 kB 6.4 MB/s eta 0:00:00
# #11 145.5 Collecting pyjwt>=1.7.0
# #11 145.5   Downloading PyJWT-2.6.0-py3-none-any.whl (20 kB)
# #11 145.5 Collecting oauthlib>=3.1.0
# #11 145.5   Downloading oauthlib-3.2.2-py3-none-any.whl (151 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 151.7/151.7 kB 6.6 MB/s eta 0:00:00
# #11 145.5 Collecting tabulate>=0.7.7
# #11 145.5   Downloading tabulate-0.9.0-py3-none-any.whl (35 kB)
# #11 145.5 Collecting six>=1.10.0
# #11 145.5   Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)
# #11 145.5 Collecting websocket-client>=0.32.0
# #11 145.5   Downloading websocket_client-1.5.1-py3-none-any.whl (55 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 55.9/55.9 kB 4.4 MB/s eta 0:00:00
# #11 145.5 Collecting itsdangerous>=2.0
# #11 145.5   Downloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)
# #11 145.5 Collecting Werkzeug>=2.2.2
# #11 145.5   Downloading Werkzeug-2.2.3-py3-none-any.whl (233 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 233.6/233.6 kB 9.7 MB/s eta 0:00:00
# #11 145.5 Collecting gitdb<5,>=4.0.1
# #11 145.5   Downloading gitdb-4.0.10-py3-none-any.whl (62 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 62.7/62.7 kB 5.4 MB/s eta 0:00:00
# #11 145.5 Requirement already satisfied: setuptools>=3.0 in ./.conda/envs/mlflow_env/lib/python3.10/site-packages (from gunicorn<21->mlflow<3,>=2.1->-r /home/mlflowuser/condaenv.p28wjm7a.requirements.txt (line 1)) (67.5.0)
# #11 145.5 Collecting zipp>=0.5
# #11 145.5   Downloading zipp-3.15.0-py3-none-any.whl (6.8 kB)
# #11 145.5 Collecting MarkupSafe>=2.0
# #11 145.5   Downloading MarkupSafe-2.1.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)
# #11 145.5 Collecting contourpy>=1.0.1
# #11 145.5   Downloading contourpy-1.0.7-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (300 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 300.3/300.3 kB 7.0 MB/s eta 0:00:00
# #11 145.5 Collecting pillow>=6.2.0
# #11 145.5   Downloading Pillow-9.4.0-cp310-cp310-manylinux_2_28_x86_64.whl (3.4 MB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.4/3.4 MB 9.5 MB/s eta 0:00:00
# #11 145.5 Collecting fonttools>=4.22.0
# #11 145.5   Downloading fonttools-4.38.0-py3-none-any.whl (965 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 965.4/965.4 kB 9.3 MB/s eta 0:00:00
# #11 145.5 Collecting kiwisolver>=1.0.1
# #11 145.5   Downloading kiwisolver-1.4.4-cp310-cp310-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (1.6 MB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.6/1.6 MB 8.5 MB/s eta 0:00:00
# #11 145.5 Collecting cycler>=0.10
# #11 145.5   Downloading cycler-0.11.0-py3-none-any.whl (6.4 kB)
# #11 145.5 Collecting pyparsing>=2.3.1
# #11 145.5   Downloading pyparsing-3.0.9-py3-none-any.whl (98 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 98.3/98.3 kB 4.3 MB/s eta 0:00:00
# #11 145.5 Collecting certifi>=2017.4.17
# #11 145.5   Downloading certifi-2022.12.7-py3-none-any.whl (155 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.3/155.3 kB 5.6 MB/s eta 0:00:00
# #11 145.5 Collecting charset-normalizer<4,>=2
# #11 145.5   Downloading charset_normalizer-3.0.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (198 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 198.8/198.8 kB 8.1 MB/s eta 0:00:00
# #11 145.5 Collecting idna<4,>=2.5
# #11 145.5   Downloading idna-3.4-py3-none-any.whl (61 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 61.5/61.5 kB 5.1 MB/s eta 0:00:00
# #11 145.5 Collecting threadpoolctl>=2.0.0
# #11 145.5   Downloading threadpoolctl-3.1.0-py3-none-any.whl (14 kB)
# #11 145.5 Collecting joblib>=1.1.1
# #11 145.5   Downloading joblib-1.2.0-py3-none-any.whl (297 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 298.0/298.0 kB 10.3 MB/s eta 0:00:00
# #11 145.5 Collecting tqdm>4.25.0
# #11 145.5   Downloading tqdm-4.65.0-py3-none-any.whl (77 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 77.1/77.1 kB 3.5 MB/s eta 0:00:00
# #11 145.5 Collecting numba
# #11 145.5   Downloading numba-0.56.4-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (3.5 MB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.5/3.5 MB 9.6 MB/s eta 0:00:00
# #11 145.5 Collecting slicer==0.0.7
# #11 145.5   Downloading slicer-0.0.7-py3-none-any.whl (14 kB)
# #11 145.5 Collecting greenlet!=0.4.17
# #11 145.5   Downloading greenlet-2.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (613 kB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 613.7/613.7 kB 10.3 MB/s eta 0:00:00
# #11 145.5 Collecting smmap<6,>=3.0.1
# #11 145.5   Downloading smmap-5.0.0-py3-none-any.whl (24 kB)
# #11 145.5 Collecting llvmlite<0.40,>=0.39.0dev0
# #11 145.5   Downloading llvmlite-0.39.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (34.6 MB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 34.6/34.6 MB 6.8 MB/s eta 0:00:00
# #11 145.5 Collecting numpy<2
# #11 145.5   Downloading numpy-1.23.5-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (17.1 MB)
# #11 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 17.1/17.1 MB 10.3 MB/s eta 0:00:00
# #11 145.5 Building wheels for collected packages: databricks-cli
# #11 145.5   Building wheel for databricks-cli (setup.py): started
# #11 145.5   Building wheel for databricks-cli (setup.py): finished with status 'done'
# #11 145.5   Created wheel for databricks-cli: filename=databricks_cli-0.17.4-py3-none-any.whl size=142875 sha256=8c751ba897cdde0cad3e1eda79bbdd9a716dd186eeef28243ef559ef4608796a
# #11 145.5   Stored in directory: /home/mlflowuser/.cache/pip/wheels/c9/29/c3/b68f17587d159cc5b55910cbf7302bca0ec27e70207436d2f0
# #11 145.5 Successfully built databricks-cli
# #11 145.5 Installing collected packages: pytz, charset-normalizer, zipp, websocket-client, urllib3, typing-extensions, tqdm, threadpoolctl, tabulate, sqlparse, smmap, slicer, six, pyyaml, pyparsing, pymysql, pyjwt, protobuf, pillow, packaging, oauthlib, numpy, MarkupSafe, markdown, llvmlite, kiwisolver, joblib, jmespath, itsdangerous, idna, gunicorn, greenlet, fonttools, entrypoints, cycler, cloudpickle, click, certifi, Werkzeug, sqlalchemy, scipy, requests, querystring-parser, python-dateutil, pyarrow, numba, Mako, Jinja2, importlib-metadata, gitdb, contourpy, scikit-learn, pandas, matplotlib, gitpython, Flask, docker, databricks-cli, botocore, alembic, shap, s3transfer, mlflow, boto3
# #11 145.5 Successfully installed Flask-2.2.3 Jinja2-3.1.2 Mako-1.2.4 MarkupSafe-2.1.2 Werkzeug-2.2.3 alembic-1.10.0 boto3-1.26.84 botocore-1.29.84 certifi-2022.12.7 charset-normalizer-3.0.1 click-8.1.3 cloudpickle-2.2.1 contourpy-1.0.7 cycler-0.11.0 databricks-cli-0.17.4 docker-6.0.1 entrypoints-0.4 fonttools-4.38.0 gitdb-4.0.10 gitpython-3.1.31 greenlet-2.0.2 gunicorn-20.1.0 idna-3.4 importlib-metadata-6.0.0 itsdangerous-2.1.2 jmespath-1.0.1 joblib-1.2.0 kiwisolver-1.4.4 llvmlite-0.39.1 markdown-3.4.1 matplotlib-3.7.1 mlflow-2.2.1 numba-0.56.4 numpy-1.23.5 oauthlib-3.2.2 packaging-23.0 pandas-1.5.3 pillow-9.4.0 protobuf-4.22.0 pyarrow-11.0.0 pyjwt-2.6.0 pymysql-1.0.2 pyparsing-3.0.9 python-dateutil-2.8.2 pytz-2022.7.1 pyyaml-6.0 querystring-parser-1.2.4 requests-2.28.2 s3transfer-0.6.0 scikit-learn-1.2.1 scipy-1.10.1 shap-0.41.0 six-1.16.0 slicer-0.0.7 smmap-5.0.0 sqlalchemy-2.0.5.post1 sqlparse-0.4.3 tabulate-0.9.0 threadpoolctl-3.1.0 tqdm-4.65.0 typing-extensions-4.5.0 urllib3-1.26.14 websocket-client-1.5.1 zipp-3.15.0
# #11 145.5
# #11 145.5 done
# #11 145.5 #
# #11 145.5 # To activate this environment, use
# #11 145.5 #
# #11 145.5 #     $ conda activate mlflow_env
# #11 145.5 #
# #11 145.5 # To deactivate an active environment, use
# #11 145.5 #
# #11 145.5 #     $ conda deactivate
# #11 145.5
# #11 151.6 total 48
# #11 151.6 drwxr-sr-x 12 mlflowuser mlflow 4096 Mar  6 09:44 .
# #11 151.6 drwxrwsr-x  3 mlflowuser mlflow 4096 Mar  6 09:43 ..
# #11 151.6 drwxr-sr-x  3 mlflowuser mlflow 4096 Mar  6 09:44 bin
# #11 151.6 drwxr-sr-x  2 mlflowuser mlflow 4096 Mar  6 09:43 compiler_compat
# #11 151.6 drwxr-sr-x  2 mlflowuser mlflow 4096 Mar  6 09:43 conda-meta
# #11 151.6 drwxr-sr-x 10 mlflowuser mlflow 4096 Mar  6 09:43 include
# #11 151.6 drwxr-sr-x 14 mlflowuser mlflow 4096 Mar  6 09:43 lib
# #11 151.6 drwxr-sr-x  3 mlflowuser mlflow 4096 Mar  6 09:43 man
# #11 151.6 drwxr-sr-x 10 mlflowuser mlflow 4096 Mar  6 09:43 share
# #11 151.6 drwxr-sr-x  3 mlflowuser mlflow 4096 Mar  6 09:43 ssl
# #11 151.6 drwxr-sr-x  3 mlflowuser mlflow 4096 Mar  6 09:43 x86_64-conda-linux-gnu
# #11 151.6 drwxr-sr-x  3 mlflowuser mlflow 4096 Mar  6 09:43 x86_64-conda_cos6-linux-gnu
# #11 DONE 153.0s

# #12 [9/9] RUN echo "Make sure mlflow_env is active for all RUNs and mlflow is installed:"     && conda info --envs     && mlflow --version
# #12 sha256:80350cd8e1e7558d05a71ec623a396e79da8c954a44feb7b1078cb4c01cca862
# #12 1.643 Make sure mlflow_env is active for all RUNs and mlflow is installed:
# #12 2.458 # conda environments:
# #12 2.458 #
# #12 2.458 mlflow_env            *  /home/mlflowuser/.conda/envs/mlflow_env
# #12 2.458 base                     /opt/conda
# #12 2.458
# #12 3.355 mlflow, version 2.2.1
# #12 DONE 3.6s

# #14 exporting to image
# #14 sha256:e8c613e07b0b7ff33893b694f7759a10d42e180f2b4dc349fb57dc6b71dcab00
# #14 exporting layers
# #14 exporting layers 10.3s done
# #14 writing image sha256:3e80bcdaae1ecbc8e14d47b3f48b8d5dad5d256b1b243d49c880450a0eefb3bf done
# #14 naming to docker.io/library/mlflow_tracker-dev done
# #14 DONE 10.4s

# Use 'docker scan' to run Snyk tests against images to find vulnerabilities and learn how to fix them